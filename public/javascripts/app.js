!function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},r={},i=function(e,t){return{}.hasOwnProperty.call(e,t)},n=function(e,t){var r,i,n=[];r=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var o=0,a=r.length;a>o;o++)i=r[o],".."===i?n.pop():"."!==i&&""!==i&&n.push(i);return n.join("/")},o=function(e){return e.split("/").slice(0,-1).join("/")},a=function(t){return function(r){var i=o(t),a=n(i,r);return e.require(a,t)}},s=function(e,t){var i={id:e,exports:{}};return r[e]=i,t(i.exports,a(e),i),i.exports},l=function(e,o){var a=n(e,".");if(null==o&&(o="/"),i(r,a))return r[a].exports;if(i(t,a))return s(a,t[a]);var l=n(a,"./index");if(i(r,l))return r[l].exports;if(i(t,l))return s(l,t[l]);throw new Error('Cannot find module "'+e+'" from "'+o+'"')},p=function(e,r){if("object"==typeof e)for(var n in e)i(e,n)&&(t[n]=e[n]);else t[e]=r},u=function(){var e=[];for(var r in t)i(t,r)&&e.push(r);return e};e.require=l,e.require.define=p,e.require.register=p,e.require.list=u,e.require.brunch=!0}}(),require.register("application",function(e,t,r){Application={initialize:function(){var e=Backbone.Model.extend({url:"/api/active_tracks"}),r=new e({storms:window.initialData.activeTracks}),i=t("views/map_view"),n=t("lib/router");this.mapView=new i({model:r}),this.router=new n,"function"==typeof Object.freeze&&Object.freeze(this)}},r.exports=Application}),require.register("initialize",function(e,t){var r=t("application");$(function(){r.initialize(),Backbone.history.start()})}),require.register("lib/router",function(e,t,r){var i=t("application");r.exports=Backbone.Router.extend({routes:{"":"map"},map:function(){$("body").html(i.mapView.render().el)}})}),require.register("lib/view_helper",function(){}),require.register("models/collection",function(e,t,r){r.exports=Backbone.Collection.extend({})}),require.register("models/model",function(e,t,r){r.exports=Backbone.Model.extend({})}),require.register("views/map_styles",function(e,t,r){r.exports={neutralBlue:[{featureType:"water",elementType:"geometry",stylers:[{color:"#193341"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#2c5a71"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#29768a"},{lightness:-37}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#406d80"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#406d80"}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#3e606f"},{weight:2},{gamma:.84}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"administrative",elementType:"geometry",stylers:[{weight:.6},{color:"#1a3541"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#2c5a71"}]}]}}),require.register("views/map_view",function(e,t,r){var i=t("./view"),n=t("./templates/map");mapStyles=t("./map_styles"),r.exports=i.extend({id:"map-view",template:n,map:null,initialize:function(){i.prototype.initialize.call(this)},afterRender:function(){this.initMap(),this.drawTracks(this.model.get("storms"))},initMap:function(){var e={center:new google.maps.LatLng(17.43,117.25),zoom:6,mapTypeId:google.maps.MapTypeId.ROAD,panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,styles:mapStyles.neutralBlue};map=new google.maps.Map(this.el,e)},drawTracks:function(e){var t,r=["#000000","#009900","#0000FF","#FF0000","#FF96C8","#8C1E78"];_.each(e,function(e){for(var i=0;i<e.pastTrack.length;++i){var n,o=e.pastTrack[i];n=i<e.pastTrack.length-1?e.pastTrack[i+1]:e.currentPos;var a=[new google.maps.LatLng(Number(o.lat),Number(o.lng)),new google.maps.LatLng(Number(n.lat),Number(n.lng))];t=new google.maps.Polyline({path:a,geodesic:!0,strokeColor:r[this.getStrength(Number(o.centerWind))],strokeOpacity:.8,strokeWeight:2}),t.setMap(map)}for(var s={path:"M 0,-2 0,2",strokeOpacity:.8,scale:2},i=1;i<e.forecastTrack.length;++i){var o;o=1==i?e.currentPos:e.forecastTrack[i-1];var n=e.forecastTrack[i],a=[new google.maps.LatLng(Number(o.lat),Number(o.lng)),new google.maps.LatLng(Number(n.lat),Number(n.lng))];t=new google.maps.Polyline({path:a,geodesic:!0,strokeOpacity:0,strokeColor:r[this.getStrength(Number(o.centerWind))],strokeWeight:2,icons:[{icon:s,offset:"0",repeat:"20px"}]}),t.setMap(map)}},this)},getStrength:function(e){return e>=185?5:e>=150?4:e>=118?3:e>=88?2:e>=63?1:0}})}),require.register("views/templates/map",function(e,t,r){var i=Handlebars.template(function(e,t,r,i,n){return this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),n=n||{},"<div></div>\r\n"});"function"==typeof define&&define.amd?define([],function(){return i}):"object"==typeof r&&r&&r.exports&&(r.exports=i)}),require.register("views/view",function(e,t,r){t("lib/view_helper"),r.exports=Backbone.View.extend({initialize:function(){this.render=_.bind(this.render,this)},template:function(){},getRenderData:function(){},render:function(){return this.$el.html(this.template(this.getRenderData())),this.afterRender(),this},afterRender:function(){}})});